# Пользовательские поля
<!-- position: 7 -->

## Вступление
Пользовательские поля позволяют добавлять поля в базу данных контента. Пользовательские поля появляются в интерфейсе панели управления при создании или редактировании записи.

## Простой пример
Добавим поле с именем **Подзаголовок**
```
Панель управления > Боковая панель > Настройки > Основные > Настраиваемые поля
```

Добавим JSON код и нажмем кнопку "Сохранить".
```
{
    "subtitle": {
        "type": "string",
        "placeholder": "Подзаголовок страницы",
		"position": "bottom"
    }
}
```

Теперь давайте создадим страницу:
```
Панель управления > Боковая панель > Новая запись
```

Как вы можете видеть, в нижней части редактора появилось новое поле, запрашивающее "Подзаголовок для страницы". Заполните поля "Заголовок", "Содержимое" и новое поле "Подзаголовок для страницы" и нажмите на кнопку "Сохранить".

Теперь для любой страницы есть поле "Подзаголовок", Вы можете отобразить значение этого поля в теме. Например:
<div class="note">
<div class="title">Примечание</div>
Любая тема строится по шаблону, в любой теме есть папка **PHP** в ней находятся эти шаблоны. Если мы хотим вывести "подзаголовок" на странице материала, то выберем файл **page.php** и добавим текст в место где хотим видеть "подзаголовок".
</div>
```
<?php
	echo "The title of the page is " . $page->title();
	echo "The subtitle of the page is " . $page->custom('subtitle');
?>
```

## Структура поля
Структура поля определяется в формате JSON и поддерживает следующие ключи:
- (required) `type`: Тип поля. Поддерживаемые значения (`string`, `bool`).
- (optional) `label`: Метка поля.
- (optional) `tip`: Описание поля.
- (optional) `default`: Значение поля по умолчанию.
- (optional) `placeholder`: Текст внутри поля.
- (optional) `position`: Расположение поля в редакторе. Поддерживаемые значения (`top`, `bottom`).Значение по умолчанию пусто, а поле отображается в «Редактор > Параметры > Пользовательский»

## Добавление пользовательского поля
Чтобы добавить пользовательское поле, перейдите:
```
Панель управления > Боковая панель > Настройки > Основные > Настраиваемые поля
```

Чтобы создать поле, мы должны определить его в системе через JSON стурктуру. Пример:

Пользовательское поле `string` с именем `youtube`:
```
{
    "youtube": {
        "type": "string",
        "label": "YouTube",
        "tip": "Write the YouTube URL."
    }
}
```

Пользовательское поле `boolean` с именем `inStock`:
```
{
    "inStock": {
        "type": "bool",
        "label": "In Stock",
        "tip": "Select this field if you have stock."
    }
}
```

Два пользовательских поля с разными типа
```
{
    "product": {
        "type": "string",
        "label": "Product",
        "tip": "Write the product name."
    },
    "inStock": {
        "type": "bool",
        "label": "In Stock",
        "tip": "Select this field if you have stock."
    }
}
```

Три пользовательских поля с разными типами и разным положением в редакторе.
```
{
    "product": {
        "type": "string",
		"placeholder": "Product name",
		"position": "top"
    },
    "inStock": {
        "type": "bool",
        "tip": "Select this field if you have stock.",
		"position": "top"
    },
    "imageURL": {
        "type": "string",
		"placeholder": "Image URL",
		"position": "bottom"
    }
}
```

## Отображение пользовательского поля
Класс page предоставляет метод `custom()`, который возвращает значение поля.

В следующем примере выводится значение поля `youtube` из приведенного ниже примера.
```
<?php
    echo $page->custom('youtube');
?>
```

Проверка boolean значения в поле `inStock` из приведенного ниже примера.
```
<?php
    if ($page->custom('inStock')) {
        echo "There is stock!";
    } else {
        echo "No more products";
    }
?>
```

## Удаление пользовательских полей
Чтобы удалить пользовательское поле, вам достаточно убрать его JSON структуру в:
```
Панель управления > Боковая панель > Настройки > Основные > Настраиваемые поля
```
Однако, это не удалит полностью поле из базы данных Bludit на вашем сайте, а лишь сделает его неактивным.

Если вы хотите удалить все настраиваемые поля, просто установите пустой JSON в текстовое поле, как показано ниже:
```
{}
```
